<html>
	<head>
		<script type="text/javascript" src="./js/jquery-3.2.1.min.js">
		</script>

		<script type="text/javascript" src="./js/markdown.min.js">
		</script>

		<link rel="stylesheet" href="css/w3.css">

		<script type="text/javascript">
			var AJAXFILEDIR = "data/";
			$.ajaxSetup({ cache: false });
	
			function getAnchor(){
				return window.location.hash.substr(1);
			}

			function getAjaxUri(x){
				if (x == '')
					return '';
				return AJAXFILEDIR + x;
			}

			function refreshUsing(x, f){
				if ( x === '' ){
					return;
				}
				var ajaxuri   = getAjaxUri(x);
				var ajaxdata  = $.ajax({url:ajaxuri, async:false});
				var htmlcontent = f(ajaxdata.responseText);
				$("#box").html(htmlcontent);
			}

			function idfunc(x){
				return x;
			}

			function refresh(x){
				refreshUsing(x, idfunc);
			}

			function anchorRefresh(){
				var anchor = getAnchor();
				refresh(anchor);
			}

			function afterReady(){
				anchorRefresh();
			}

			$(document).ready(afterReady);
			window.addEventListener("popstate", function(){
				anchorRefresh();
			});

		</script>
	</head>
	<body>
		<div class="w3-bar w3-black" id="navbar">
			<a class="w3-bar-item w3-button" href='#data1'>data 1</a>
			<a class="w3-bar-item w3-button" href='#data2'>data 2</a>
			<a class="w3-bar-item w3-button" href='#data3'>data 3</a>
		</div>

		<div id='box'> </div>
	</body>
</html>
